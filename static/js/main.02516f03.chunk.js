(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{12:function(e,r,n){"use strict";n.r(r);var t=n(0),o=n(2),i=n.n(o),a=n(6),u=n.n(a),f=(n(5),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,13)).then((function(r){var n=r.getCLS,t=r.getFID,o=r.getFCP,i=r.getLCP,a=r.getTTFB;n(e),t(e),o(e),i(e),a(e)}))}),l=n(1),c=n.n(l),s=function(e){var r="b",n="w",t=-1,o="p",i="b",a="k",u="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",f=["1-0","0-1","1/2-1/2","*"],l={b:[16,32,17,15],w:[-16,-32,-17,-15]},c={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},s=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],p=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],v={p:0,n:1,b:2,r:3,q:4,k:5},h={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},g={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},d={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},b={w:[{square:d.a1,flag:g.QSIDE_CASTLE},{square:d.h1,flag:g.KSIDE_CASTLE}],b:[{square:d.a8,flag:g.QSIDE_CASTLE},{square:d.h8,flag:g.KSIDE_CASTLE}]},m=new Array(128),E={w:t,b:t},_=n,y={w:0,b:0},w=t,I=0,S=1,A=[],T={};function C(){m=new Array(128),E={w:t,b:t},_=n,y={w:0,b:0},w=t,I=0,S=1,A=[],T={},R(P())}function N(){k(u)}function k(e){var o=e.split(/\s+/),i=o[0],a=0;if(!O(e).valid)return!1;C();for(var u=0;u<i.length;u++){var f=i.charAt(u);if("/"===f)a+=8;else if(-1!=="0123456789".indexOf(f))a+=parseInt(f,10);else{var l=f<"a"?n:r;q({type:f.toLowerCase(),color:l},J(a)),a++}}return _=o[1],o[2].indexOf("K")>-1&&(y.w|=g.KSIDE_CASTLE),o[2].indexOf("Q")>-1&&(y.w|=g.QSIDE_CASTLE),o[2].indexOf("k")>-1&&(y.b|=g.KSIDE_CASTLE),o[2].indexOf("q")>-1&&(y.b|=g.QSIDE_CASTLE),w="-"===o[3]?t:d[o[3]],I=parseInt(o[4],10),S=parseInt(o[5],10),R(P()),!0}function O(e){var r="No errors.",n="FEN string must contain six space-delimited fields.",t="6th field (move number) must be a positive integer.",o="5th field (half move counter) must be a non-negative integer.",i="4th field (en-passant square) is invalid.",a="3rd field (castling availability) is invalid.",u="2nd field (side to move) is invalid.",f="1st field (piece positions) does not contain 8 '/'-delimited rows.",l="1st field (piece positions) is invalid [consecutive numbers].",c="1st field (piece positions) is invalid [invalid piece].",s="1st field (piece positions) is invalid [row too large].",p="Illegal en-passant square",v=e.split(/\s+/);if(6!==v.length)return{valid:!1,error_number:1,error:n};if(isNaN(v[5])||parseInt(v[5],10)<=0)return{valid:!1,error_number:2,error:t};if(isNaN(v[4])||parseInt(v[4],10)<0)return{valid:!1,error_number:3,error:o};if(!/^(-|[abcdefgh][36])$/.test(v[3]))return{valid:!1,error_number:4,error:i};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(v[2]))return{valid:!1,error_number:5,error:a};if(!/^(w|b)$/.test(v[1]))return{valid:!1,error_number:6,error:u};var h=v[0].split("/");if(8!==h.length)return{valid:!1,error_number:7,error:f};for(var g=0;g<h.length;g++){for(var d=0,b=!1,m=0;m<h[g].length;m++)if(isNaN(h[g][m])){if(!/^[prnbqkPRNBQK]$/.test(h[g][m]))return{valid:!1,error_number:9,error:c};d+=1,b=!1}else{if(b)return{valid:!1,error_number:8,error:l};d+=parseInt(h[g][m],10),b=!0}if(8!==d)return{valid:!1,error_number:10,error:s}}return"3"==v[3][1]&&"w"==v[1]||"6"==v[3][1]&&"b"==v[1]?{valid:!1,error_number:11,error:p}:{valid:!0,error_number:0,error:r}}function P(){for(var e=0,r="",o=d.a8;o<=d.h1;o++){if(null==m[o])e++;else{e>0&&(r+=e,e=0);var i=m[o].color,a=m[o].type;r+=i===n?a.toUpperCase():a.toLowerCase()}o+1&136&&(e>0&&(r+=e),o!==d.h1&&(r+="/"),e=0,o+=8)}var u="";y.w&g.KSIDE_CASTLE&&(u+="K"),y.w&g.QSIDE_CASTLE&&(u+="Q"),y.b&g.KSIDE_CASTLE&&(u+="k"),y.b&g.QSIDE_CASTLE&&(u+="q"),u=u||"-";var f=w===t?"-":J(w);return[r,_,u,f,I,S].join(" ")}function L(e){for(var r=0;r<e.length;r+=2)"string"===typeof e[r]&&"string"===typeof e[r+1]&&(T[e[r]]=e[r+1]);return T}function R(e){A.length>0||(e!==u?(T.SetUp="1",T.FEN=e):(delete T.SetUp,delete T.FEN))}function j(e){var r=m[d[e]];return r?{type:r.type,color:r.color}:null}function q(e,r){if(!("type"in e)||!("color"in e))return!1;if(-1==="pnbrqkPNBRQK".indexOf(e.type.toLowerCase()))return!1;if(!(r in d))return!1;var n=d[r];return(e.type!=a||E[e.color]==t||E[e.color]==n)&&(m[n]={type:e.type,color:e.color},e.type===a&&(E[e.color]=n),R(P()),!0)}function D(e,r,n,t,i){var a={color:_,from:r,to:n,flags:t,piece:e[r].type};return i&&(a.flags|=g.PROMOTION,a.promotion=i),e[n]?a.captured=e[n].type:t&g.EP_CAPTURE&&(a.captured=o),a}function x(e){function r(e,r,n,t,a){if(e[n].type!==o||0!==Z(t)&&7!==Z(t))r.push(D(e,n,t,a));else for(var u=["q","r",i,"n"],f=0,l=u.length;f<l;f++)r.push(D(e,n,t,a,u[f]))}var n=[],t=_,a=X(t),u={b:1,w:6},f=d.a8,s=d.h1,p=!1,v="undefined"===typeof e||!("legal"in e)||e.legal;if("undefined"!==typeof e&&"square"in e){if(!(e.square in d))return[];f=s=d[e.square],p=!0}for(var h=f;h<=s;h++)if(136&h)h+=7;else{var b=m[h];if(null!=b&&b.color===t)if(b.type===o){var I=h+l[t][0];if(null==m[I]){r(m,n,h,I,g.NORMAL);I=h+l[t][1];u[t]===Z(h)&&null==m[I]&&r(m,n,h,I,g.BIG_PAWN)}for(S=2;S<4;S++){136&(I=h+l[t][S])||(null!=m[I]&&m[I].color===a?r(m,n,h,I,g.CAPTURE):I===w&&r(m,n,h,w,g.EP_CAPTURE))}}else for(var S=0,A=c[b.type].length;S<A;S++){var T=c[b.type][S];for(I=h;!(136&(I+=T));){if(null!=m[I]){if(m[I].color===t)break;r(m,n,h,I,g.CAPTURE);break}if(r(m,n,h,I,g.NORMAL),"n"===b.type||"k"===b.type)break}}}if(!p||s===E[t]){if(y[t]&g.KSIDE_CASTLE){var C=(N=E[t])+2;null!=m[N+1]||null!=m[C]||U(a,E[t])||U(a,N+1)||U(a,C)||r(m,n,E[t],C,g.KSIDE_CASTLE)}if(y[t]&g.QSIDE_CASTLE){var N;C=(N=E[t])-2;null!=m[N-1]||null!=m[N-2]||null!=m[N-3]||U(a,E[t])||U(a,N-1)||U(a,C)||r(m,n,E[t],C,g.QSIDE_CASTLE)}}if(!v)return n;var k=[];for(h=0,A=n.length;h<A;h++)V(n[h]),B(t)||k.push(n[h]),Y();return k}function Q(e,r){var n="";if(e.flags&g.KSIDE_CASTLE)n="O-O";else if(e.flags&g.QSIDE_CASTLE)n="O-O-O";else{var t=function(e,r){for(var n=x({legal:!r}),t=e.from,o=e.to,i=e.piece,a=0,u=0,f=0,l=0,c=n.length;l<c;l++){var s=n[l].from,p=n[l].to;i===n[l].piece&&t!==s&&o===p&&(a++,Z(t)===Z(s)&&u++,z(t)===z(s)&&f++)}if(a>0)return u>0&&f>0?J(t):f>0?J(t).charAt(1):J(t).charAt(0);return""}(e,r);e.piece!==o&&(n+=e.piece.toUpperCase()+t),e.flags&(g.CAPTURE|g.EP_CAPTURE)&&(e.piece===o&&(n+=J(e.from)[0]),n+="x"),n+=J(e.to),e.flags&g.PROMOTION&&(n+="="+e.promotion.toUpperCase())}return V(e),F()&&($()?n+="#":n+="+"),Y(),n}function K(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function U(e,t){for(var i=d.a8;i<=d.h1;i++)if(136&i)i+=7;else if(null!=m[i]&&m[i].color===e){var a=m[i],u=i-t,f=u+119;if(s[f]&1<<v[a.type]){if(a.type===o){if(u>0){if(a.color===n)return!0}else if(a.color===r)return!0;continue}if("n"===a.type||"k"===a.type)return!0;for(var l=p[f],c=i+l,h=!1;c!==t;){if(null!=m[c]){h=!0;break}c+=l}if(!h)return!0}}return!1}function B(e){return U(X(e),E[e])}function F(){return B(_)}function $(){return F()&&0===x().length}function G(){return!F()&&0===x().length}function M(){for(var e={},r=[],n=0,t=0,o=d.a8;o<=d.h1;o++)if(t=(t+1)%2,136&o)o+=7;else{var a=m[o];a&&(e[a.type]=a.type in e?e[a.type]+1:1,a.type===i&&r.push(t),n++)}if(2===n)return!0;if(3===n&&(1===e.b||1===e.n))return!0;if(n===e.b+2){var u=0,f=r.length;for(o=0;o<f;o++)u+=r[o];if(0===u||u===f)return!0}return!1}function W(){for(var e=[],r={},n=!1;;){var t=Y();if(!t)break;e.push(t)}for(;;){var o=P().split(" ").slice(0,4).join(" ");if(r[o]=o in r?r[o]+1:1,r[o]>=3&&(n=!0),!e.length)break;V(e.pop())}return n}function V(e){var n=_,i=X(n);if(function(e){A.push({move:e,kings:{b:E.b,w:E.w},turn:_,castling:{b:y.b,w:y.w},ep_square:w,half_moves:I,move_number:S})}(e),m[e.to]=m[e.from],m[e.from]=null,e.flags&g.EP_CAPTURE&&(_===r?m[e.to-16]=null:m[e.to+16]=null),e.flags&g.PROMOTION&&(m[e.to]={type:e.promotion,color:n}),m[e.to].type===a){if(E[m[e.to].color]=e.to,e.flags&g.KSIDE_CASTLE){var u=e.to-1,f=e.to+1;m[u]=m[f],m[f]=null}else if(e.flags&g.QSIDE_CASTLE){u=e.to+1,f=e.to-2;m[u]=m[f],m[f]=null}y[n]=""}if(y[n])for(var l=0,c=b[n].length;l<c;l++)if(e.from===b[n][l].square&&y[n]&b[n][l].flag){y[n]^=b[n][l].flag;break}if(y[i])for(l=0,c=b[i].length;l<c;l++)if(e.to===b[i][l].square&&y[i]&b[i][l].flag){y[i]^=b[i][l].flag;break}w=e.flags&g.BIG_PAWN?"b"===_?e.to-16:e.to+16:t,e.piece===o||e.flags&(g.CAPTURE|g.EP_CAPTURE)?I=0:I++,_===r&&S++,_=X(_)}function Y(){var e=A.pop();if(null==e)return null;var n=e.move;E=e.kings,_=e.turn,y=e.castling,w=e.ep_square,I=e.half_moves,S=e.move_number;var t,i,a=_,u=X(_);if(m[n.from]=m[n.to],m[n.from].type=n.piece,m[n.to]=null,n.flags&g.CAPTURE)m[n.to]={type:n.captured,color:u};else if(n.flags&g.EP_CAPTURE){var f;f=a===r?n.to-16:n.to+16,m[f]={type:o,color:u}}n.flags&(g.KSIDE_CASTLE|g.QSIDE_CASTLE)&&(n.flags&g.KSIDE_CASTLE?(t=n.to+1,i=n.to-1):n.flags&g.QSIDE_CASTLE&&(t=n.to-2,i=n.to+1),m[t]=m[i],m[i]=null);return n}function H(e,r){var n=K(e);if(r){var t=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);if(t)var o=t[1],i=t[2],a=t[3],u=t[4]}for(var f=x(),l=0,c=f.length;l<c;l++){if(n===K(Q(f[l]))||r&&n===K(Q(f[l],!0)))return f[l];if(t&&(!o||o.toLowerCase()==f[l].piece)&&d[i]==f[l].from&&d[a]==f[l].to&&(!u||u.toLowerCase()==f[l].promotion))return f[l]}return null}function Z(e){return e>>4}function z(e){return 15&e}function J(e){var r=z(e),n=Z(e);return"abcdefgh".substring(r,r+1)+"87654321".substring(n,n+1)}function X(e){return e===n?r:n}function ee(e){var r=re(e);r.san=Q(r,!1),r.to=J(r.to),r.from=J(r.from);var n="";for(var t in g)g[t]&r.flags&&(n+=h[t]);return r.flags=n,r}function re(e){var r=e instanceof Array?[]:{};for(var n in e)r[n]="object"===typeof n?re(e[n]):e[n];return r}function ne(e){return e.replace(/^\s+|\s+$/g,"")}function te(e){for(var r=x({legal:!1}),n=0,t=_,o=0,i=r.length;o<i;o++){if(V(r[o]),!B(t))if(e-1>0)n+=te(e-1);else n++;Y()}return n}return k("undefined"===typeof e?u:e),{WHITE:n,BLACK:r,PAWN:o,KNIGHT:"n",BISHOP:i,ROOK:"r",QUEEN:"q",KING:a,SQUARES:function(){for(var e=[],r=d.a8;r<=d.h1;r++)136&r?r+=7:e.push(J(r));return e}(),FLAGS:h,load:function(e){return k(e)},reset:function(){return N()},moves:function(e){for(var r=x(e),n=[],t=0,o=r.length;t<o;t++)"undefined"!==typeof e&&"verbose"in e&&e.verbose?n.push(ee(r[t])):n.push(Q(r[t],!1));return n},ugly_moves:function(e){var r=x(e);return r},in_check:function(){return F()},in_checkmate:function(){return $()},in_stalemate:function(){return G()},in_draw:function(){return I>=100||G()||M()||W()},insufficient_material:function(){return M()},in_threefold_repetition:function(){return W()},game_over:function(){return I>=100||$()||G()||M()||W()},validate_fen:function(e){return O(e)},fen:function(){return P()},board:function(){for(var e=[],r=[],n=d.a8;n<=d.h1;n++)null==m[n]?r.push(null):r.push({type:m[n].type,color:m[n].color}),n+1&136&&(e.push(r),r=[],n+=8);return e},pgn:function(e){var r="object"===typeof e&&"string"===typeof e.newline_char?e.newline_char:"\n",n="object"===typeof e&&"number"===typeof e.max_width?e.max_width:0,t=[],o=!1;for(var i in T)t.push("["+i+' "'+T[i]+'"]'+r),o=!0;o&&A.length&&t.push(r);for(var a=[];A.length>0;)a.push(Y());for(var u=[],f="";a.length>0;){var l=a.pop();A.length||"b"!==l.color?"w"===l.color&&(f.length&&u.push(f),f=S+"."):f=S+". ...",f=f+" "+Q(l,!1),V(l)}if(f.length&&u.push(f),"undefined"!==typeof T.Result&&u.push(T.Result),0===n)return t.join("")+u.join(" ");var c=0;for(i=0;i<u.length;i++)c+u[i].length>n&&0!==i?(" "===t[t.length-1]&&t.pop(),t.push(r),c=0):0!==i&&(t.push(" "),c++),t.push(u[i]),c+=u[i].length;return t.join("")},load_pgn:function(e,r){var n="undefined"!==typeof r&&"sloppy"in r&&r.sloppy;function t(e){return e.replace(/\\/g,"\\")}var o="object"===typeof r&&"string"===typeof r.newline_char?r.newline_char:"\r?\n",i=new RegExp("^(\\[(.|"+t(o)+")*\\])("+t(o)+")*1.("+t(o)+"|.)*$","g"),a=e.replace(i,"$1");"["!==a[0]&&(a=""),N();var u=function(e,r){for(var n="object"===typeof r&&"string"===typeof r.newline_char?r.newline_char:"\r?\n",o={},i=e.split(new RegExp(t(n))),a="",u="",f=0;f<i.length;f++)a=i[f].replace(/^\[([A-Z][A-Za-z]*)\s.*\]$/,"$1"),u=i[f].replace(/^\[[A-Za-z]+\s"(.*)"\]$/,"$1"),ne(a).length>0&&(o[a]=u);return o}(a,r);for(var l in u)L([l,u[l]]);if("1"===u.SetUp&&(!("FEN"in u)||!k(u.FEN)))return!1;var c=e.replace(a,"").replace(new RegExp(t(o),"g")," ");c=c.replace(/(\{[^}]+\})+?/g,"");for(var s=/(\([^\(\)]+\))+?/g;s.test(c);)c=c.replace(s,"");var p=ne(c=(c=(c=c.replace(/\d+\.(\.\.)?/g,"")).replace(/\.\.\./g,"")).replace(/\$\d+/g,"")).split(new RegExp(/\s+/));p=p.join(",").replace(/,,+/g,",").split(",");for(var v="",h=0;h<p.length-1;h++){if(null==(v=H(p[h],n)))return!1;V(v)}if(v=p[p.length-1],f.indexOf(v)>-1)(function(e){for(var r in e)return!0;return!1})(T)&&"undefined"===typeof T.Result&&L(["Result",v]);else{if(null==(v=H(v,n)))return!1;V(v)}return!0},header:function(){return L(arguments)},ascii:function(){return function(){for(var e="   +------------------------+\n",r=d.a8;r<=d.h1;r++){if(0===z(r)&&(e+=" "+"87654321"[Z(r)]+" |"),null==m[r])e+=" . ";else{var t=m[r].type;e+=" "+(m[r].color===n?t.toUpperCase():t.toLowerCase())+" "}r+1&136&&(e+="|\n",r+=8)}return e+="   +------------------------+\n",e+"     a  b  c  d  e  f  g  h\n"}()},turn:function(){return _},move:function(e,r){var n="undefined"!==typeof r&&"sloppy"in r&&r.sloppy,t=null;if("string"===typeof e)t=H(e,n);else if("object"===typeof e)for(var o=x(),i=0,a=o.length;i<a;i++)if(e.from===J(o[i].from)&&e.to===J(o[i].to)&&(!("promotion"in o[i])||e.promotion===o[i].promotion)){t=o[i];break}if(!t)return null;var u=ee(t);return V(t),u},ugly_move:function(e,r){var n=ee(e);return V(e),n},undo:function(){var e=Y();return e?ee(e):null},clear:function(){return C()},put:function(e,r){return q(e,r)},get:function(e){return j(e)},remove:function(e){return function(e){var r=j(e);return m[d[e]]=null,r&&r.type===a&&(E[r.color]=t),R(P()),r}(e)},perft:function(e){return te(e)},square_color:function(e){if(e in d){var r=d[e];return(Z(r)+z(r))%2===0?"light":"dark"}return null},history:function(e){for(var r=[],n=[],t=("undefined"!==typeof e&&"verbose"in e&&e.verbose);A.length>0;)r.push(Y());for(;r.length>0;){var o=r.pop();t?n.push(ee(o)):n.push(Q(o)),V(o)}return n}}},p=n(3),v=100,h=320,g=330,d=500,b=900,m=2e4,E={p:[[100,100,100,100,105,100,100,100],[78,83,86,73,102,82,85,90],[7,29,21,44,40,31,44,7],[-17,16,-2,15,14,0,15,-13],[-26,3,10,9,6,1,0,-23],[-22,9,5,-11,-10,-2,3,-19],[-31,8,-7,-37,-36,-14,3,-31],[0,0,0,0,0,0,0,0]],n:[[-66,-53,-75,-75,-10,-55,-58,-70],[-3,-6,100,-36,4,62,-4,-14],[10,67,1,74,73,27,62,-2],[24,24,45,37,33,41,25,17],[-1,5,31,21,22,35,2,0],[-18,10,13,22,18,15,11,-14],[-23,-15,2,0,2,0,-23,-20],[-74,-23,-26,-24,-19,-35,-22,-69]],b:[[-59,-78,-82,-76,-23,-107,-37,-50],[-11,20,35,-42,-39,31,2,-22],[-9,39,-32,41,52,-10,28,-14],[25,17,20,34,26,25,15,10],[13,10,17,23,17,16,0,7],[14,25,24,15,8,25,20,15],[19,20,11,6,7,6,20,16],[-7,2,-15,-12,-14,-15,-10,-10]],r:[[35,29,33,4,37,33,56,50],[55,29,56,67,55,62,34,60],[19,35,28,33,45,27,25,15],[0,5,16,13,18,-4,-9,-6],[-28,-35,-16,-21,-13,-29,-46,-30],[-42,-28,-42,-25,-25,-35,-26,-46],[-53,-38,-31,-26,-29,-43,-44,-53],[-30,-24,-18,5,-2,-18,-31,-32]],q:[[6,1,-8,-104,69,24,88,26],[14,32,60,-10,20,76,57,24],[-2,43,32,60,72,63,43,2],[1,-16,22,17,25,20,-13,-6],[-14,-15,-2,-5,-1,-10,-20,-22],[-30,-6,-13,-11,-16,-11,-16,-27],[-36,-18,0,-19,-15,-15,-21,-38],[-39,-30,-31,-13,-31,-36,-34,-42]],k:[[4,54,47,-99,-99,60,83,-62],[-32,10,55,56,56,55,10,3],[-62,12,-57,44,-67,28,37,-31],[-55,50,11,-4,-19,13,0,-49],[-55,-43,-52,-28,-51,-47,-8,-50],[-47,-42,-43,-79,-64,-32,-29,-32],[-4,3,-14,-50,-57,-18,13,4],[17,30,-3,-14,6,-1,40,18]],k_e:[[-50,-40,-30,-20,-20,-30,-40,-50],[-30,-20,-10,0,0,-10,-20,-30],[-30,-10,20,30,30,20,-10,-30],[-30,-10,30,40,40,30,-10,-30],[-30,-10,30,40,40,30,-10,-30],[-30,-10,20,30,30,20,-10,-30],[-30,-30,0,0,0,0,-30,-30],[-50,-30,-30,-30,-30,-30,-30,-50]]},_=E.p.slice().reverse(),y=E.n.slice().reverse(),w=E.b.slice().reverse(),I=E.r.slice().reverse(),S=E.q.slice().reverse(),A=E.k.slice().reverse(),T=(E.k_e.slice().reverse(),function(e,r,n){if(null===e)return 0;var t=function(e,r,n,t){if("p"===e.type)return v+(r?E.p[t][n]:_[t][n]);if("r"===e.type)return d+(r?E.r[t][n]:I[t][n]);if("n"===e.type)return h+(r?E.n[t][n]:y[t][n]);if("b"===e.type)return g+(r?E.b[t][n]:w[t][n]);if("q"===e.type)return b+(r?E.q[t][n]:S[t][n]);if("k"===e.type)return m+(r?E.k[t][n]:A[t][n]);throw Error("Unknown piece type: "+e.type)}(e,"w"===e.color,r,n);return"w"===e.color?t:-t}),C=function e(r,n,t,o,i){if(0===n)return-function(e){for(var r=0,n=0;n<8;n++)for(var t=0;t<8;t++)r+=T(e[n][t],n,t);return r}(r.board());var a;if(t){a=Number.NEGATIVE_INFINITY;var u,f=r.ugly_moves(),l=Object(p.a)(f);try{for(l.s();!(u=l.n()).done;){var c=u.value;if(r.ugly_move(c),a=Math.max(a,e(r,n-1,!1,o,i)),r.undo(),i<=(o=Math.max(o,a)))return console.log("Pruned at depth ".concat(n)),a}}catch(d){l.e(d)}finally{l.f()}}else{a=Number.POSITIVE_INFINITY;var s,v=r.ugly_moves(),h=Object(p.a)(v);try{for(h.s();!(s=h.n()).done;){var g=s.value;if(r.ugly_move(g),a=Math.min(a,e(r,n-1,!0,o,i)),r.undo(),(i=Math.min(i,a))<=o)return console.log("Pruned at depth ".concat(n)),a}}catch(d){h.e(d)}finally{h.f()}}return a},N=function(e){var r=k(e);e.ugly_move(r),D.position(e.fen()),e.game_over()&&alert("Game over")},k=function(e){e.game_over()&&alert("Game over");var r=(new Date).getTime(),n=function(e,r,n){var t,o,i=Number.NEGATIVE_INFINITY,a=e.ugly_moves(),u=Object(p.a)(a);try{for(u.s();!(o=u.n()).done;){var f=o.value;e.ugly_move(f);var l=C(e,r-1,!n,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY);e.undo(),l>=i&&(i=l,t=f)}}catch(c){u.e(c)}finally{u.f()}return t}(e,3,!0),t=(new Date).getTime()-r;return console.log("This move took ".concat(t/1e3,"s")),n},O=new s,P=function(e,r,n,t){return!O.game_over()&&(!0!==O.in_checkmate()&&!0!==O.in_draw()&&-1===r.search(/^b/)&&void 0)},L=function(e,r){if(null===O.move({from:e,to:r,promotion:"q"}))return"snapback";var n=c()("#board");window.setTimeout(N,250,O,n),function(){var e="",r="White";"b"===O.turn()&&(r="Black"),O.in_checkmate()?e="Game over, "+r+" is in checkmate.":O.in_draw()?e="Game over, drawn position":(e=r+" to move",O.in_check()&&(e+=", "+r+" is in check")),c()("#status").html(e),c()("#fen").html(O.fen()),c()("#pgn").html(O.pgn())}()},R=function(){D.position(O.fen())},j=(c()("#myBoard"),[]);function q(){var e=O.undo();j.push(e),j.length>20&&j.shift(),D.position(O.fen())}var D,x=function(){O.history().length>=2?(q(),window.setTimeout((function(){q()}),250)):alert("Nothing to undo.")},Q=function(){O.reset(),D.position(O.fen())},K=function(e){return Object(t.jsx)("button",{className:"btn",onClick:e.onClick,children:e.children})},U=function(){return Object(t.jsx)(K,{onClick:x,children:"Undo last move"})},B=function(){return Object(t.jsx)(K,{onClick:Q,children:"Reset game"})},F=function(){return Object(t.jsxs)("div",{className:"options-list",children:[Object(t.jsx)(U,{}),Object(t.jsx)(B,{})]})};window.$=window.jQuery=c.a;var $=function(){var e=i.a.createRef(),r="board",n={pieceTheme:"https://chessboardjs.com/img/chesspieces/alpha/{piece}.png",draggable:!0,position:"start",onDragStart:P,onDrop:L,onSnapEnd:R};return Object(o.useEffect)((function(){if((!window||window.ChessBoard)&&(!window||window.$))return D=window.ChessBoard(r,n),function(){return D.destroy()}})),Object(t.jsxs)("div",{className:"App",children:[Object(t.jsx)("div",{className:"Board",id:r,ref:e}),Object(t.jsx)(F,{className:"Buttons"})]})};u.a.render(Object(t.jsx)(i.a.StrictMode,{children:Object(t.jsx)($,{})}),document.getElementById("root")),f()},5:function(e,r,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.02516f03.chunk.js.map